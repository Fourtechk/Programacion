<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cooperativas de Vivienda</title>
  <link rel="stylesheet" href="landingpage.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

<header id="mainHeader">
  <div class="header-content">
    <div class="logo">
      <img src="logo.jpeg" alt="Logo Cooperativa">
    </div>

    <nav class="menu">
      <a href="#inicio">Inicio</a>
      <a href="#nosotros">Sobre Nosotros</a>
    </nav>

    <!-- Bot√≥n hamburguesa (top-right) -->
    <div class="menu-toggle" id="menuToggle" aria-expanded="false" aria-label="Abrir men√∫">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <!-- Desplegable en la esquina derecha -->
    <div class="dropdown" id="headerDropdown" aria-hidden="true">
      <a class="dropdown-link" href="#inicio">Inicio</a>
      <a class="dropdown-link" href="#nosotros">Sobre Nosotros</a>
      <a class="dropdown-link" href="postulacion.php">Postularme</a>
      <a class="dropdown-link" href="login.php">Iniciar sesi√≥n</a>
    </div>
  </div>
</header>

<!-- Mensajes din√°micos -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const params = new URLSearchParams(window.location.search);

  if (params.get("mensaje") === "ok") {
    const mensaje = document.createElement("p");
    mensaje.textContent = "‚úÖ Tu postulaci√≥n fue enviada correctamente.";
    mensaje.style.background = "#ecf0f1";
    mensaje.style.color = "#2c3e50";
    mensaje.style.padding = "12px";
    mensaje.style.borderRadius = "10px";
    mensaje.style.fontWeight = "600";
    mensaje.style.textAlign = "center";
    mensaje.style.margin = "20px auto";
    mensaje.style.maxWidth = "600px";
    document.querySelector("header").insertAdjacentElement("afterend", mensaje);
  }

  if (params.get("error") === "no_admin") {
    const mensaje = document.createElement("p");
    mensaje.textContent = "‚ö†Ô∏è No tienes permisos para acceder al panel de administraci√≥n.";
    mensaje.style.background = "#f8d7da";
    mensaje.style.color = "#721c24";
    mensaje.style.padding = "12px";
    mensaje.style.borderRadius = "10px";
    mensaje.style.fontWeight = "600";
    mensaje.style.textAlign = "center";
    mensaje.style.margin = "20px auto";
    mensaje.style.maxWidth = "600px";
    document.querySelector("header").insertAdjacentElement("afterend", mensaje);
  }
});
</script>

<!-- INICIO -->
<section id="inicio" class="section inicio">
  <div class="background-image"></div>
  <div class="form-wrapper">
    <h2 class="titulo-principal">
      ¬øQuieres vivir <br><span>en alguna de nuestras cooperativas?</span>
    </h2>
    <div class="form-box">
      <a href="postulacion.php"><button class="postularme">POSTULARME</button></a>
      <a href="login.php"><button class="iniciar-sesion">INICIAR SESI√ìN</button></a>
    </div>
  </div>
</section>

<!-- SOBRE NOSOTROS -->
<section id="nosotros" class="section sobre">
  <h2>Sobre Nosotros</h2>
  <p>
    Somos una organizaci√≥n dedicada a promover la vivienda digna a trav√©s del sistema de ayuda mutua. 
    Nuestro objetivo es brindar a las familias la oportunidad de construir su propio hogar, 
    fomentando la solidaridad, la transparencia y la cooperaci√≥n.
  </p>
</section>

<!-- FOOTER -->
<footer>
  <p>¬© 2025 Cooperativas de Vivienda | Todos los derechos reservados |
  <span>üìß info@cooperativas.com</span> | <span>üìû +598 123 456 78</span></p>
</footer>

<script>
  // Fondo del header al hacer scroll
  window.addEventListener("scroll", () => {
    const header = document.getElementById("mainHeader");
    header.classList.toggle("scrolled", window.scrollY > 60);
  });

  // Desplazamiento suave
  document.querySelectorAll('a[href^="#"]').forEach(enlace => {
    enlace.addEventListener('click', function(e) {
      e.preventDefault();
      document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });

      const menuToggle = document.getElementById('menuToggle');
      const dropdown = document.getElementById('headerDropdown');
      if (menuToggle.classList.contains('open')) {
        menuToggle.classList.remove('open');
        menuToggle.setAttribute('aria-expanded', 'false');
        dropdown.classList.remove('active');
        dropdown.setAttribute('aria-hidden', 'true');
      }
    });
  });

  // Control del men√∫ hamburguesa
  const menuToggle = document.getElementById('menuToggle');
  const dropdown = document.getElementById('headerDropdown');

  menuToggle.addEventListener('click', () => {
    const isOpen = menuToggle.classList.toggle('open');
    dropdown.classList.toggle('active', isOpen);
    menuToggle.setAttribute('aria-expanded', String(isOpen));
    dropdown.setAttribute('aria-hidden', String(!isOpen));
  });

  // cerrar dropdown al clickear fuera
  document.addEventListener('click', (e) => {
    const isClickInside = e.target.closest('.header-content');
    if (!isClickInside && dropdown.classList.contains('active')) {
      dropdown.classList.remove('active');
      menuToggle.classList.remove('open');
      menuToggle.setAttribute('aria-expanded', 'false');
      dropdown.setAttribute('aria-hidden', 'true');
    }
  });

  // Animaci√≥n al hacer scroll para secciones
  const sections = document.querySelectorAll('.section');
  const showSection = () => {
    const triggerBottom = window.innerHeight * 0.85;
    sections.forEach(section => {
      const sectionTop = section.getBoundingClientRect().top;
      if(sectionTop < triggerBottom) section.classList.add('show');
    });
  };
  window.addEventListener('scroll', showSection);
  window.addEventListener('load', showSection);
</script>

</body>
</html>
